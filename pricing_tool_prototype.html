<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Pricing Grid Visualization</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
	<link rel="stylesheet" type="text/css" href="library/jquery-ui-1.10.4.custom.min.css">
    <script type="text/javascript" src="library/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="library/jquery.csv-0.71.min.js"></script>
    <script type="text/javascript" src="library/d3.min.js"></script>
	<script type="text/javascript" src="library/jquery-ui-1.10.4.custom.min.js"></script>
	
    <script type="text/javascript">
        // Declare global variables
        var rawDataObject = {};
		rawDataObject.xList = ["Customer revenue"];
		rawDataObject.yList = ["Absolute Px", "GB Px"];
        rawDataObject.updateField = ["Absolute grid Px", "GB grid Px", "Grid deviation"];
        rawDataObject.anchorName = {
            x: "Anchor revenue",
            y: "Anchor Px"
        };
		rawDataObject.buName = "Business Unit";
		rawDataObject.capacityName = "Filter - Capacity";
		rawDataObject.customerName = "Customer";
        rawDataObject.dSlopeName = "DSlope";
		rawDataObject.pbHideList = ["Filter - Source"];
		rawDataObject.pbXList = ["Overall Market Share", "Relative Share"];
		rawDataObject.pbYList = ["Grid deviation"];
        rawDataObject.userLog = "";
        rawDataObject.margin = {
            top: 50,
            right: 150,
            bottom: 50,
            left: 50
        };
        rawDataObject.width = window.screen.availWidth * 0.79 - rawDataObject.margin.left - rawDataObject.margin.right;
        rawDataObject.height = window.screen.availHeight * 0.77 - rawDataObject.margin.top - rawDataObject.margin.bottom;
    </script>
	
	<script type="text/javascript" src="function_library.js"></script>
	<script type="text/javascript" src="grid_visualization.js"></script>
	<script type="text/javascript" src="price_quotation.js"></script>
	<script type="text/javascript" src="playbook.js"></script>
</head>

<body>
    <h1 id="title">Pricing Visualization Tool Prototype <sub><code>v0.4</code></sub></h1>
    <h4 id="contact_author"><a href="mailto:cui.bo@bcg.com?Subject=Pricing Grid Visualization Bug" target="_top">Contact Author</a>
		&nbsp &nbsp &nbsp
		<button id="change_log" onclick="changeLog()">Change Log</button>
	</h4>
    <hr/>
    <div id"user_inputs">
        <h3>Data Input</h3>
        <input id="files" type="file" name="files[]">
        <output id="upload_status"></output>
		<br/><br/>
		<select id="choose_bu" onchange="popControl()" style="display:none"></select>
    </div>
    <hr/>
    <div id="control_panel" style="width:20%; float:left">
        <h3>Control Panel</h3>
		<button id="refresh_grid" onclick="initPlot()">Refresh</button>
        <button id="print_grid" onclick="printGrid()">View/Print Grid</button>
        <br/>
		<button id="export_data" onclick="exportToText()">Export Data</button>
        <button id="log_data" onclick="logOutput()">Log Data</button>
        <output id="log_status"></output>
		<hr/>
        <div id="choose_variables">
            <select id="choose_x" style="display:none"></select>
            <select id="choose_y" style="display:none"></select>
        </div>
        <div id="playbook_choose_variables" style="display:none" onchange="createPlaybook()">
            <select id="choose_x_pb"></select>
            <select id="choose_y_pb"></select>
        </div>
        <div id="filter_checkbox" style="width: 50%; float:left" onchange="initPlot()"></div>
        <div id="tooltip_checkbox" style="width: 50%; float:right">
            <br/>
            <div id="tooltip_title" style="display:none"><b>Tooltip Settings</b>
            </div>
            <label id="selectall_label" style="display:none">
                <input type="checkbox" id="tooltip_selectall" onchange="tooltipSelectAll(this)">
                <font color="#5C5858"><em>Select / Deselect all</em></font>
            </label>
            <br/>
        </div>
    </div>
	<div id="visualization_tabs" style="width:79%; float:right; display:none">
		<ul>
			<li><a href="#data_visualization" onclick="switchToGrid()">Grid Visualization</a></li>
			<li><a href="#playbook_viz" onclick="initPlaybook()">Playbook</a></li>
		</ul>
		<br/>
		<div id="data_visualization" class="visualization_div">
			<h3>Grid Visualization</h3>
			<output id="error_display"></output>
			<div id="customize_field" style="display:none">
				<select id="customer_filter" onchange="filterCustomer()"></select>
				<button id="click_all" onclick="clickAll()">Click All</button>
			</div>
			<br/>
			<div id="overwrite_range" style="display:none">
				<span>Overwrite axes range: </span>
				<input type="text" id="input_xmin" placeholder="enter minimum x">
				<input type="text" id="input_xmax" placeholder="enter maximum x">
				<input type="text" id="input_ymin" placeholder="enter minimum y">
				<input type="text" id="input_ymax" placeholder="enter maximum y">
			</div>
		</div>
		<div id="playbook_viz" class="visualization_div">
			<h3>Playbook</h3>
            <select id="catDropDown" onchange="pbFilterCustomer()"></select>
		</div>
	</div>
<!--
	<script type="text/javascript" src="time_bomb.js"></script>
-->
</body>

</html>
