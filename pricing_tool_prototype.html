<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Pricing Grid Visualization</title>
	<link rel="icon" type="image/x-icon" href="magic_wand.ico">
    <link rel="stylesheet" type="text/css" href="styles.css">
	<link rel="stylesheet" type="text/css" href="library/jquery-ui-1.10.4.custom.min.css">
    <script type="text/javascript" src="library/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="library/jquery.csv-0.71.min.js"></script>
    <script type="text/javascript" src="library/d3.min.js"></script>
	<script type="text/javascript" src="library/jquery-ui-1.10.4.custom.min.js"></script>
	<script type="text/javascript" src="library/jquery.mask.min.js"></script>
	
    <script type="text/javascript">
        // Declare global variables
        var rawDataObject = {};
		rawDataObject.newPointList = {};
		rawDataObject.xList = ["Customer revenue"];
		rawDataObject.yList = ["Price per Unit", "Price per GB"];
        rawDataObject.updateField = ["Grid Price", "Grid Price per GB", "Grid deviation"];
        rawDataObject.anchorName = {
            x: "Anchor revenue",
            y: "Anchor price"
        };
		rawDataObject.buName = "Business Unit";
		rawDataObject.capacityName = "Filter Capacity";
		rawDataObject.customerName = "Customer";
        rawDataObject.dSlopeName = "DSlope";
		rawDataObject.pbHideList = ["Filter Source", "Filter Fiscal Qtr"];
		rawDataObject.pbXList = ["TAM"];
		rawDataObject.pbYList = ["Grid deviation"];
		rawDataObject.pbZList = ["Customer revenue", "Product revenue"];
        rawDataObject.userLog = "";
        rawDataObject.margin = {
            top: 50,
            right: 150,
            bottom: 50,
            left: 50
        };
        rawDataObject.width = $(window).width() * 0.79 - rawDataObject.margin.left - rawDataObject.margin.right;
        rawDataObject.height = $(window).height() * 0.85 - rawDataObject.margin.top - rawDataObject.margin.bottom;
    </script>
	
	<script type="text/javascript" src="function_library.js"></script>
	<script type="text/javascript" src="grid_visualization.js"></script>
	<script type="text/javascript" src="price_quotation.js"></script>
	<script type="text/javascript" src="playbook.js"></script>
</head>

<body>
	<div class="ui-widget-header ui-corner-all">
		<div align="center">
			<img src="magic_wand.ico" width=50 height=50/>
			<span class="title">BCG Grid Wizard<sup>&copy;</sup></font></span>
			<span class="subtitle"><i>A Boston Consulting Group product</i></span>
		</div>
		<span><a href="mailto:cui.bo@bcg.com?Subject=Pricing Grid Visualization Bug" target="_top" class="buttons">Contact Author</a></span>
		<button id="change_log" class="buttons" onclick="changeLog()">Version Log</button>
    </div>
    <div id="user_inputs" class="ui-widget-header ui-corner-all">
        <h3>&nbsp;Data Input</h3>
		<div id="file_inputs">
			<input id="files" class="file" type="file" name="files[]" />
			<div id="fake_file_input">
				<input type="text" value="Choose Data File" readonly="readonly" class="buttons" />
				<output id="upload_status"></output>
			</div>
		</div>
		<br/>
		<select id="choose_bu" onchange="popControl()" style="display:none"></select>
    </div>
	<div id="control_tabs" style="width:20%; float:left; display:none">
		<ul>
			<li><a href="#control_panel">Control Panel</a></li>
		</ul>
		<div id="control_panel">
			<button id="refresh_grid" class="buttons" onclick="updateAllSvg()">Refresh</button>
			<button id="print_grid" class="buttons" onclick="printGrid()">View/Print Grid</button>
			<br/>
			<button id="export_data" class="buttons" onclick="exportToText()">Export Data</button>
			<button id="log_data" class="buttons" onclick="logOutput()">Log Data</button>
			<output id="log_status"></output>
			<hr/>
			<div id="choose_variables">
				<select id="choose_x" style="display:none"></select>
				<select id="choose_y" style="display:none"></select>
			</div>
			<div id="playbook_choose_variables" style="display:none" onchange="createPlaybook()">
				<select id="choose_x_pb"></select>
				<select id="choose_y_pb"></select>
				<select id="choose_z_pb"></select>
			</div>
			<div id="filter_checkbox" style="width: 50%; float:left" onchange="updateAllSvg()"></div>
			<div id="tooltip_checkbox" style="width: 50%; float:right">
				<br/>
			</div>
		</div>
	</div>
	<div id="visualization_tabs" style="width:79%; float:right; display:none">
		<ul>
			<li><a href="#data_visualization" onclick="switchToGrid()">Grid Visualization</a></li>
			<li><a href="#playbook_viz" onclick="initPlaybook()">Playbook</a></li>
			<li><a href="#chessboard">Chessboard</a></li>
			<li><a href="#management_report">Management Report</a></li>
		</ul>
		<div id="data_visualization" class="visualization_div">
			<output id="error_display"></output>
			<div id="customize_field" style="display:none">
				<select id="customer_filter" onchange="filterCustomer()"></select>
				<button id="click_all" class="buttons" onclick="clickAll()">Click All</button>
			</div>
			<br/>
			<div id="overwrite_range">
				<span>Overwrite axes range: </span>
				<input type="text" id="input_xmin" placeholder="enter minimum x">
				<input type="text" id="input_xmax" placeholder="enter maximum x">
				<input type="text" id="input_ymin" placeholder="enter minimum y">
				<input type="text" id="input_ymax" placeholder="enter maximum y">
			</div>
		</div>
		<div id="playbook_viz" class="visualization_div">
            <select id="catDropDown" onchange="pbFilterCustomer()"></select>
			<button id="pb_click_all" class="buttons" onclick="pbClickAll()">Click All</button>
		</div>
		<div id="chessboard"></div>
		<div id="management_report"></div>
	</div>
	
	<script type="text/javascript" src="jui_style.js"></script>
<!--
	<script type="text/javascript" src="time_bomb.js"></script>
-->
</body>

</html>
